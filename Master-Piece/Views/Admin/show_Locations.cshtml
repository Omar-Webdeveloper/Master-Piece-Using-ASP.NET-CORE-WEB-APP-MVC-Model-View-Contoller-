@model LocationAreaViewModel

@{
    ViewData["Title"] = "Manage Locations";
    Layout = "~/Views/Shared/_Admin_Layout.cshtml";
}
<style>
    .popup-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh; /* full height */
        background: rgba(0, 0, 0, 0.5); /* optional background */
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    .popup {
        background: #fff;
        padding: 30px 40px;
        border-radius: 10px;
        width: 600px;
        max-width: 95%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        position: relative;
    }

    .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 22px;
        cursor: pointer;
        color: #333;
    }

    form input[type="text"],
    form input[type="Email"],
    form input[type="password"],
    form input[type="date"],
    form input[type="file"],
    form input[type="number"],
    form select,
    form textarea {
        width: 100%;
        padding: 8px 10px;
        margin-top: 6px;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-sizing: border-box;
    }

    form textarea {
        resize: vertical;
        height: 80px;
    }

    form table {
        width: 100%;
        border-collapse: collapse;
    }

    form td {
        padding: 10px;
        vertical-align: top;
    }

    button {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #0066cc;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }

</style>
<h2>Manage Locations</h2>

<!-- Add New Location Button -->
<button class="btn btn-primary" ><a asp-action="AddLocation">Add Location</a></button>

<!-- Location Table -->
<table class="table table-bordered table-hover">
    <thead class="table-dark">
        <tr>
            <th>Location ID</th>
            <th>Areas Covered</th>
            <th>Manager ID</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var location in Model.ouelocations)
        {
            <tr>
                <td>@location.LocationId</td>
                <td>@location.AreasCovered</td>
                <td>@location.ManagerId</td>
                <td>
                    <button class="btn btn-warning" ><a asp-action="EditLocation" asp-route-id="@location.LocationId">Edit</a></button>
                    <button class="btn btn-danger" onclick="openDeleteLocationPopup(@location.LocationId)">Delete</button>
                </td>
            </tr>
        }
    </tbody>
</table>




<!-- Delete Location Popup -->
<div id="deleteLocationPopup" class="popup-container" style="display:none;">
    <div class="popup" style="background: white; padding: 20px; border-radius: 10px; width: 600px;">
        <span class="close-btn" onclick="closeDeleteLocationPopup()" style="float:right; cursor:pointer;">&times;</span>
        <h3>Delete Location</h3>
        <p>Are you sure you want to delete this location?</p>
        <form method="post" asp-action="DeleteLocation">
            <input type="hidden" id="deleteLocationId" name="id" />
            <button type="submit" class="btn btn-danger">Delete</button>
        </form>
    </div>
</div>

<script>


    function openDeleteLocationPopup(locationId) {
        document.getElementById("deleteLocationId").value = locationId;
        document.getElementById("deleteLocationPopup").style.display = "block";
    }

    function closeDeleteLocationPopup() {
        document.getElementById("deleteLocationPopup").style.display = "none";
    }
</script>







        @* // document.getElementById("editLocationPopup").style.display = "flex"; *@
